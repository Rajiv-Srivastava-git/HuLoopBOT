
using System.Diagnostics;

namespace HuLoopBOT.Utilities;

public static class Logger
{
    private static string path = @"C:\ProgramData\HuLoopBOT\log.txt";

    public static void Log(string message)
    {
        Directory.CreateDirectory(Path.GetDirectoryName(path)!);
        File.AppendAllText(path, $"{DateTime.Now}: {message}\n");

        if (!EventLog.SourceExists("HuLoopBOT"))
            EventLog.CreateEventSource("HuLoopBOT", "Application");

        EventLog.WriteEntry("HuLoopBOT", message);
    }
}
